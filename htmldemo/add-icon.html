<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>addIcon</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/plugins/jsTree/style.min.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/iconfont.css" type="text/css"/>

</head>
<body style="padding-top: 25px;">
<!--bootstrap模态框-->
<!-- Modal -->
<div id="myModal" data-edit="1">
    <div class="modal-body form-inline">
        <div class="form-group">
            <a id="nodeIcon" onclick="iconlistShow()" class="btn btn-primary">
                选择图标
                <i class=""></i>
            </a>
            <input style="display: inline-block;width: auto;vertical-align: middle;" id="nodeName" class="form-control" type="text" placeholder="请输入节点名称">
        </div>
    </div>
    <div class="modal-footer ">
        <button onclick="saveFunVal()" type="button" class="btn btn-primary">保存</button>
    </div>
</div>

<!-- Mainly scripts -->
<script src="../js/jquery-2.1.1.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/plugins/layer/layer.js"></script>
<script src="../i18n/zh-CN.js"  type="text/javascript"></script>
<script src="../js/tedu-languge.js"></script>
<!-- Custom and plugin javascript -->
<script src="../js/plugins/jsTree/jstree.min.js"></script>
<script src="../js/subindex-ajax.js"></script>
<script>
    /* 获取url参数值 */
    var editNum = parseInt(COM_TOOLS.requestParam('edit'));
    if (editNum === 1) {
        var textRename = decodeURI(COM_TOOLS.requestParam('nodeName')),
                iconRename = decodeURI(COM_TOOLS.requestParam('iconRename'));
        $('#nodeName').val(textRename);
        $('#nodeIcon i').prop('class', iconRename).attr('data-iclass',iconRename);
    }
    /*调用图标弹层*/
    function iconlistShow() {cumParentWinModal("选择图标", ['font-class.html'], {"type": 2});}
    function saveFunVal() {
        var text_ = $.trim($('#nodeName').val());
        var icon_ = $.trim($('#nodeIcon i').attr('data-iclass'));
        if(text_==""){
            COM_TOOLS.alert("请输入名称");//请输入名称
            return false;
        }
        var obj_ = {editNum:editNum,text:text_,icon:icon_};
        cumParentCallValue(function () {COM_TOOLS.callParentWinCacheFn('fn',obj_)});
    }
</script>
</body>
</html>