<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>国际化配置_input</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="../../font-awesome/css/font-awesome.css" />

        <link rel="stylesheet" href="../../css/style.css">
        <style type="text/css">

        </style>
        <script>
            var cus_default_ = {
                "_modelI18nOpt": {
                    "geturl": "/i18n/api-get2", //获取数据接口地址
                    "seturl": "/i18n/api-set" //发送数据接口地址
                }
            }
        </script>
    </head>

    <body>
        <div class="container-fluid">
            <div class="row" style="min-height: 50px;">
                <div class="p-xs col-xs-12 text-center affix-top" id="demoaffix1" data-spy="affix" data-offset-top="50">
                    <button class="btn btn-primary btn-sm" type="button" id="btn_save">保存</button>
                    <button class="btn btn-success btn-sm" type="button" id="btn_closewin">关闭</button>
                </div>
            </div>
        </div>

        <div class="container">
            <form class="form-horizontal" id="form_up" autocomplete="off">
                <input type="hidden" value="this-id">
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span class="text-danger">*</span> 组织名称</label>
                    <div class="col-sm-4">
                        <input class="form-control input-sm" type="text" name="name1" js-i18n-key="platForm.user.Aname.{naMe3}" js-i18n-label="组织名称" />
                    </div>
                    <label class="col-sm-2 control-label"><span class="text-danger">*</span> 人员</label>
                    <div class="col-sm-4">
                        <input class="form-control input-sm" type="text" name="name2" js-i18n-key="platForm.user.bname.{user.id}" js-i18n-label="人员" />
                        <input type="hidden" name="user.id" value="yourid"> 
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span class="text-danger">*</span> 组织编码</label>
                    <div class="col-sm-4">
                        <input class="form-control input-sm" type="text" name="naMe3" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">扩展字段1</label>
                    <div class="col-sm-4"><input class="form-control input-sm" type="text" name="name4" /></div>
                    <label class="col-sm-2 control-label">扩展字段2</label>
                    <div class="col-sm-4"><input class="form-control input-sm" type="text" name="name5" /></div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">扩展字段3</label>
                    <div class="col-sm-4"><input class="form-control input-sm" type="text" name="name6" /></div>
                    <label class="col-sm-2 control-label">扩展字段4</label>
                    <div class="col-sm-4"><input class="form-control input-sm" type="text" name="name7" /></div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">扩展字段5</label>
                    <div class="col-sm-4"><input class="form-control input-sm" js-i18n-key="{name8}" js-i18n-label="xxxx" type="text" name="name8" /></div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">备注</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" name="name9" rows="3"></textarea>
                    </div>
                </div>
            </form>
        </div>

        <div class="container" id="demobox1">

        </div>
        
        <div class="container">
            <div class="panel panel-default">
                <div class="panel-heading">使用方法</div>
                <div class="panel-body">
                    <script type="text/template" id="demo_box">
                        
                        <p>属性 js-i18n-key：</p>
                        <p>用于定义国际化key的组成，可包含key前缀（可选）及占位符（{xxxx}）;占位符用于指定该占位符的数据来源，即目标input文本框的name值；且占位符不区分大小写；</p>
                        <p>形式1：包含前缀：aa.bb.cc.{xx}； aa.bb.{xx}; aa.{xx}</p>
                        <p>形式2：不包含前缀：{xx}</p>
                        <p>注意，占位符解析效果与是否包含前缀无关;</p>
                        
                        <p>属性 js-i18n-label：</p>
                        <p>用于定义该项目在国际化面板中显示的label名称</p>
                        
                        <p>示例：编码由人工输入，且指向其它字段</p>
                        <input class="form-control input-sm" type="text" name="name1" js-i18n-key="platForm.user.Aname.{naMe3}" js-i18n-label="标签名" />
                        <p>国际化key为 platForm.user.Aname.{naMe3}，其中占位符{naMe3}，指向<input class="form-control input-sm" type="text" name="naMe3" /></p>
                        <p>如果input[name="naMe3"]的文本框的value值为 nickname,则此时key被解析为platForm.user.Aname.nickname</p>
                        
                        <p>示例：编码由人工输入，且指向自己</p>
                        <input class="form-control input-sm" js-i18n-key="{name8}" js-i18n-label="xxxx" type="text" name="name8" />
                        <p>本例中，占位符{name8}，指向了自身；注意，占位符解析效果与是否包含前缀无关;</p>
                        
                        <p>示例：name指向隐藏域，或固定值</p>
                        <input class="form-control input-sm" type="text" name="name2" js-i18n-key="platForm.user.bname.{user.id}" js-i18n-label="人员" />
                        <input type="hidden" name="user.id" value="yourid"> 
                        <p>此时解析结果为：platForm.user.bname.yourid</p>
                        
                        <p>初始化组件：</p>

                        $(function() {
                            /**
                             * @param #demobox1 国际化组件初始化容器ID；
                             * @param #form_up 需要国际化的数据控件所在的表单ID；
                             * @param #btn_save 需要国际化的数据控件所在的表单的提交按钮ID；
                             */
                            var thisI18n = COM_TOOLS._model.set_i18n_fn2('#demobox1','#form_up','#btn_save');
                            $('#btn_save').click(function(){
                                // validate-submitHandler and ajax-success && status == 1 后调用thisI18n.save()
                                thisI18n.save();
                            });
                        });

                    </script>
                    <pre id="demo_boxcode" class="hljs xml">
                        
                    </pre>
                </div>
            </div>
        </div>

        <script src="../../js/jquery-2.1.1.js" type="text/javascript"></script>
        <script src="../../js/bootstrap.min.js" type="text/javascript"></script>
        <script src="../../js/plugins/layer/layer.js"></script>

        <script src="../../i18n/zh-CN.js"></script>

        <script src="../../js/subindex.js" type="text/javascript"></script>

        <!-- demo 演示使用 -->
        <script src="../../js/jquery.mockjax.min.js"></script>
        <script src="../../demo-data.js"></script>
        <script src="../../js/plugins/beautifier/beautifier.min.js"></script>

        <script type="text/javascript">
            
            
            $(function() {
                /**
                 * @param #demobox1 国际化组件初始化容器ID；
                 * @param #form_up 需要国际化的数据控件所在的表单ID；
                 * @param #btn_save 需要国际化的数据控件所在的表单的提交按钮ID；
                 */
                var thisI18n = COM_TOOLS._model.set_i18n_fn2('#demobox1','#form_up','#btn_save');
                $('#btn_save').click(function(){
                    // validate-submitHandler and ajax-success && status == 1 后调用thisI18n.save()
                    thisI18n.save();
                });
            });
            $(function(){
                $('#demo_boxcode').text(beautifier.html($('#demo_box').html(), _BEAUFLY_OPTION_));
            });
        </script>
        
        <link rel="stylesheet" type="text/css" href="../../css/plugins/highlight/xcode.min.css" />
        <script src="https://cdn.bootcss.com/highlight.js/9.9.0/highlight.min.js"></script>
        <script>
            $(function () {
                $('pre').each(function (i, n) {
                    //$(n).html(_demo_htmlencode_fn($(n).html()));
                    hljs.highlightBlock(n);
                });
            });
        </script>
    </body>

</html>