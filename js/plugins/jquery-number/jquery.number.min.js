(function(d){function b(f){f=f+"";return !/^(?:-?\d{1,12}|-?\d{1,3}(?:,\d{3}){1,3})?(?:\.\d+)?$/.test(f)}function a(i,k){i=i+"";k=d.isArray(k)?k:[];var h=(k[1]&&(k[1]&&0<=k[1]&&k[1]<=12))?k[1]:12,g=(k[0]&&(k[0]&&k[0]>0))?k[0]:0,j=Math.ceil(h/3)-1,l=g==0?1:g;j=j<1?1:j;if(g===0){var f=new RegExp(("^(?:-?\\d{1,"+h+"}|-?\\d{1,3}(?:,\\d{3}){1,"+j+"})?$"))}else{var f=new RegExp(("^(?:-?\\d{1,"+h+"}|-?\\d{1,3}(?:,\\d{3}){1,"+j+"})?(?:\\.\\d{1,"+l+"})?$"))}return !f.test(i)}d.validator&&d.validator.addMethod("ck-number-forjqnum",function(g,f,h){return this.optional(f)||!a(g,h)},LOCAL_MESSAGE_DATA["platform.plugin.validate.valid_wrongnumber"]);d.fn.number=function(j,g,m,h){h=(typeof h==="undefined")?",":",";m=(typeof m==="undefined")?".":".";g=(typeof g==="undefined")?0:g;var i=("\\u"+("0000"+(m.charCodeAt(0).toString(16))).slice(-4)),f=("\\u"+("0000"+(h.charCodeAt(0).toString(16))).slice(-4)),l=new RegExp(f,"g"),k=new RegExp("[^"+i+"0-9]","g"),n=new RegExp(i,"g");if(j===true){if(this.is("input:text")){return this.on({"focus.numformat":function(p){var o=d(this);this.value=o.val()},"blur.numformat":function(q){var p=d(this),o=this.value;if(a(o,[p.data("num_format")["decimals"]])){p.val(o)}else{p.val(d.number(o,g,m,h))}}}).each(function(){var q=d(this).data("num_format",{decimals:g,thousands_sep:h,dec_point:m,regex_dec_num:k,regex_dec:n,regex_sep:l});var o=d(this.form);if(o.data("validator")){var p=q.rules()||{};if(!("ck-number-forjqnum" in p)){q.rules("add",{"ck-number-forjqnum":[g]})}}else{if(!(q.attr("ck-number-forjqnum"))){q.attr("ck-number-forjqnum","["+g+"]")}}if(this.value===""){return}q.val(q.val())})}else{return this.each(function(){var o=d(this);o.number(d.trim(o.text()),g,m,h)})}}return this.text(d.number.apply(window,arguments))};var e=null,c=null;if(d.isPlainObject(d.valHooks.text)){if(d.isFunction(d.valHooks.text.get)){e=d.valHooks.text.get}if(d.isFunction(d.valHooks.text.set)){c=d.valHooks.text.set}}else{d.valHooks.text={}}d.valHooks.text.get=function(h){var j=d(h),g,f,i=j.data("num_format");if(!i){if(d.isFunction(e)){return e(h)}else{return undefined}}else{if(h.value===""){return""}if(a(h.value,[i.decimals])){return h.value}g=(h.value.replace(i.regex_sep,"").replace(i.regex_dec,"."));return g}};d.valHooks.text.set=function(g,j){var i=d(g),h=i.data("num_format");if(!h){if(d.isFunction(c)){return c(g,j)}else{return undefined}}else{var f=j;if(!a(j,[h.decimals])){f=d.number(j,h.decimals,h.dec_point,h.thousands_sep)}return d.isFunction(c)?c(g,f):g.value=f}};d.number=function(k,h,m,i){if(k===""){return""}h=(typeof h==="undefined")?0:h;m=(typeof m==="undefined")?".":".";i=(typeof i==="undefined")?",":",";var j=("\\u"+("0000"+(m.charCodeAt(0).toString(16))).slice(-4));var f=("\\u"+("0000"+(i.charCodeAt(0).toString(16))).slice(-4));k=k+"";if(b(k)){return k}k=k.replace(".",m).replace(new RegExp(f,"g"),"").replace(new RegExp(j,"g"),".");var g=!isFinite(+k)?0:+k,o="",l=function(q,p){return""+(+(Math.round((""+q).indexOf("e")>0?q:q+"e+"+p)+"e-"+p))};o=(h?l(g,h):""+Math.round(g)).split(".");if(o[0].length>3){o[0]=o[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)}if((o[1]||"").length<h){o[1]=o[1]||"";o[1]+=new Array(h-o[1].length+1).join("0")}return o.join(m)}})(jQuery);